<!DOCTYPE html>
<html>

<head>
    <title>Portfolio Generator</title>
    <link rel="stylesheet" type="text/css" href="static/css/style.css">
    <script src="script.js"></script>
</head>

<body>
    <h1>Portfolio Generator</h1>
    <form id="portfolioForm" action="/generate" method="post">
        <label for="name">Name:</label>
        <input type="text" id="name" name="name" required>

        <label for="name">Phone Number:</label>
        <input type="text" id="number" name="number" required>

        <label for="email">Email Address:</label>
        <input type="text" id="email" name="email" required>

        <label for="degree">Degree information:</label>
        <input type="text" id="degree" name="degree" required>

        <label for="major">Major:</label>
        <input type="text" id="major" name="major" required>

        <label for="university">University Name:</label>
        <input type="text" id="university" name="university" required>

        <label for="school-start">Start Year:</label>
        <input type="text" id="school-start" name="school-start" required>

        <label for="school-end">Graduating Year:</label>
        <input type="text" id="school-end" name="school-end" required>

        <label for="coursework">Relevant coursework:</label>
        <textarea id="coursework" name="coursework" rows="4" required></textarea>

        <label for="club-activities">Club Activities:</label>
        <textarea id="club-activities" name="club-activities" rows="4" required></textarea>


        <label for="experience">Work Experience:</label>
        <textarea id="experience" name="experience" rows="4" required></textarea>

        <input type="submit" value="Generate Portfolio">
    </form>

    <div id="output"></div>

    <script>
        document.getElementById('portfolioForm').addEventListener('submit', function (e) {
            e.preventDefault();

            var form = e.target;

            var xhr = new XMLHttpRequest();
            xhr.open(form.method, form.action, true);
            xhr.onreadystatechange = function () {
                if (xhr.readyState === 4 && xhr.status === 200) {
                    var file_path = xhr.responseText;
                    var outputDiv = document.getElementById('output');
                    outputDiv.innerHTML = '<a href="portfolio.html" target="_blank">Download Portfolio</a>';
                }
            };
            xhr.send(new FormData(form));
        });
    </script>
</body>

</html>